import discord
from discord.ext import commands
from discord.ext.commands import Context


def duck_command():
    @commands.hybrid_command(
        name="duck",
        description="Duck ASCII art",
    )
    async def duck(self, context):
        duck_art = """
‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚†ø‚†ø‚†ø‚†ø‚†ø‚†ø‚¢ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø
‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚†ü[0;37m‚£â‚°•‚†∂‚¢∂‚£ø‚£ø‚£ø‚£ø‚£∑‚£Ü[0m‚†â‚†õ‚†ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø
‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚°ø[0;37m‚¢°‚°û‚†Å‚†Ä‚†Ä‚†§‚†à‚†ø‚†ø‚†ø‚†ø‚£ø[0m[0;31m‚†Ä‚¢ª‚£¶‚°à[0m‚†ª‚£ø‚£ø‚£ø‚£ø‚£ø
‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚°á‚†ò‚°Å‚†Ä[0;37m‚¢Ä‚£Ä‚£Ä‚£Ä‚£à‚£Å‚£ê‚°í[0m[0;31m‚†¢‚¢§‚°à‚†õ‚¢ø‚°Ñ[0m‚†ª‚£ø‚£ø‚£ø‚£ø
‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚°á‚†Ä[0;37m‚¢Ä‚£º‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£∂‚£Ñ[0m[0;31m‚†â‚†ê‚†Ñ‚°à‚¢Ä[0m‚£ø‚£ø‚£ø‚£ø
‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚†á[0;37m‚¢†‚£ø‚£ø‚£ø‚£ø‚°ø‚¢ø‚£ø‚£ø‚£ø‚†Å‚¢à‚£ø‚°Ñ[0m‚†Ä[0;36m‚¢Ä‚£Ä[0m‚†∏‚£ø‚£ø‚£ø‚£ø
‚£ø‚£ø‚£ø‚£ø‚°ø‚†ü[0;33m‚£°‚£∂‚£∂‚£¨‚£≠‚£•‚£¥[0m[0;37m‚†Ä‚£æ‚£ø‚£ø‚£ø‚£∂‚£æ‚£ø‚£ß[0m[0;36m‚†Ä‚£º‚£ø‚£∑‚£å[0m‚°ª‚¢ø‚£ø
‚£ø‚£ø‚†ü[0;33m‚£ã‚£¥‚£æ‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚°á[0m[0;37m‚¢ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚°ø[0m[0;36m‚¢∏‚£ø‚£ø‚£ø‚£ø‚£∑[0m‚†Ñ‚¢ª
‚°è[0;33m‚†∞‚¢æ‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚°ø‚†ü‚¢Ç[0m[0;37m‚£≠‚£ø‚£ø‚£ø‚£ø‚£ø‚†á[0m[0;36m‚†ò‚†õ‚†õ‚¢â‚£â[0m‚£†‚£¥‚£æ
‚£ø‚£∑‚£¶[0;33m‚£¨‚£ç‚£â‚£â‚£õ‚£õ‚£â‚†â[0m[0;37m‚£§‚£∂‚£æ‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚°ø[0m‚¢∞‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø
‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ß[0;37m‚°ò‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚°á[0m‚£º‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø
‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£á[0;37m‚¢∏‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚†Å[0m‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø
"""

        if getattr(context, "interaction", None):
            inter = context.interaction
            if not inter.response.is_done():
                await inter.response.send_message(f"```ansi\n{duck_art}\n```", ephemeral=False)
            else:
                await inter.followup.send(f"```ansi\n{duck_art}\n```", ephemeral=True)
        else:
            await context.send(f"```ansi\n{duck_art}\n```")
    
    return duck
